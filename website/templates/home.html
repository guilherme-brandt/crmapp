{% extends "base.html" %}

{%block content%}
{% load static %}
        <!-- Hero Section -->
        <header id="home" class="hero text-center py-5">
            <div class="container">
                <h1 class="display-4 animate__animated animate__fadeIn">Bem-vindo ao CRM App!</h1>
                <p class="lead animate__animated animate__fadeIn animate__delay-1s">Um sistema completo para gerenciar o cadastro de clientes com validações e automação.</p>
                <a href="#features" class="btn btn-primary btn-lg animate__animated animate__bounceIn">Saiba Mais</a>
            </div>
        </header>
    
        <!-- Features Section -->
        <section id="features" class="features py-5">
            <div class="container">
                <h2 class="text-center mb-4 animate__animated animate__fadeIn">Funcionalidades</h2>
                <div class="row">
                    <div class="col-md-4 text-center mb-4">
                        <div class="card animate__animated animate__fadeIn animate__delay-1s">
                            <div class="card-body">
                                <h5 class="card-title">Cadastro Seguro</h5>
                                <p class="card-text">Adicione e gerencie clientes com segurança, utilizando autenticação de usuários.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <div class="card animate__animated animate__fadeIn animate__delay-2s">
                            <div class="card-body">
                                <h5 class="card-title">Automação de CEP</h5>
                                <p class="card-text">Preencha automaticamente os campos de endereço, bairro e cidade ao inserir o CEP.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center mb-4">
                        <div class="card animate__animated animate__fadeIn animate__delay-3s">
                            <div class="card-body">
                                <h5 class="card-title">Gerenciamento Completo</h5>
                                <p class="card-text">Atualize e remova cadastros com facilidade, garantindo uma gestão eficiente dos seus dados.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    <!-- Contact Section -->
<section id="contact" class="contact py-5">
    <div class="container">
        <h2 class="text-center mb-4 animate__animated animate__fadeIn">Entre em Contato</h2>
        <form method="POST" id="contactForm" action="{% url 'contact' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="name">Nome</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Seu Nome" required>
                <div class="invalid-feedback">Por favor, insira seu nome.</div>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Seu Email" required>
                <div class="invalid-feedback">Por favor, insira um email válido.</div>
            </div>
            <div class="form-group">
                <label for="message">Mensagem</label>
                <textarea class="form-control" id="message" name="message" rows="3" placeholder="Sua Mensagem" required></textarea>
                <div class="invalid-feedback">Por favor, insira sua mensagem.</div>
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
            <div id="formFeedback" class="mt-3"></div>
        </form>
    </div>
</section>
<script>
    if (isValid) {
        const formData = new FormData(form);
        
        fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
            }
        }).then(response => response.text())
          .then(data => {
              feedback.textContent = 'Formulário enviado com sucesso!';
              feedback.style.color = '#28a745'; // Green color for success
              form.reset(); // Reset the form fields
          }).catch(error => {
              feedback.textContent = 'Ocorreu um erro ao enviar o formulário. Tente novamente.';
              feedback.style.color = '#dc3545'; // Red color for error
          });
    
        // Desativar o envio normal do formulário
        event.preventDefault();
    }
      
</script>    
{% endblock %}